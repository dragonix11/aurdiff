# Maintainer: almostalive <almostalive2003 at gmail dot com>
# Contributer: <Themaister> <maister@archlinux.us>

pkgname=retroarch-git
_gitname=RetroArch
pkgver=7749.220411b
pkgrel=1
pkgdesc="Simple frontend for the libretro API."
arch=('i686' 'x86_64' 'arm' 'armv6h')
url="http://github.com/libretro/RetroArch"
license=('GPL')
# optional build-time deps: 'openal', 'libxml2', 'nvidia-cg-toolkit', 'sdl_image'
# see: 'retroarch --features' for more.
depends=('mesa')
optdepends=('libretro-super-git: A collection of many libretro implementations.')
makedepends=('git')
provides=('retroarch')
conflicts=('retroarch')
source=("${_gitname}::git://github.com/libretro/${_gitname}.git")
md5sums=('SKIP')

pkgver() {
  cd "${_gitname}"
  echo $(git rev-list --count HEAD).$(git rev-parse --short HEAD)
}

build() {
  cd "${_gitname}"
  ./configure --prefix=/usr
  make
}

package() {
  cd "${_gitname}"
  make install DESTDIR="${pkgdir}"
}