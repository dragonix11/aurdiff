#Maintainer: robem <robem at posteo dot de> (based on aur/php-xapian)

pkgname=xapian-lua-bindings
pkgver=1.2.15
pkgrel=1
pkgdesc="Lua bindings for Xapian"
arch=('i686' 'x86_64')
url="http://xapian.org/docs/bindings/lua/"
license=('GPL2')
depends=('xapian-core='$pkgver 'lua')
source=(http://oligarchy.co.uk/xapian/$pkgver/xapian-bindings-$pkgver.tar.gz)
sha256sums=('89d30cbd38dcfb9d9e0fccc8e4ba7d6452ffad45afb3f1e9614a3be0a3a33e77')

build() {
  cd "$srcdir/xapian-bindings-$pkgver"

  ./configure --prefix=/usr --with-lua LUA_INC=/usr/include
  make
}

check() {
  cd "$srcdir/xapian-bindings-$pkgver"

  make -k check
}

package() {
  cd "$srcdir/xapian-bindings-$pkgver"

  make DESTDIR="$pkgdir" install
}

