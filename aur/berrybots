# Maintainer: James Duley

pkgname=berrybots
pkgver=1.3.0
pkgrel=1
pkgdesc='A programming game where the player programs a ship that moves around the stage, sees gameplay events, and shoots at other ships.'
arch=('i686' 'x86_64')
url="http://berrybots.com/"
license=('custom')
depends=('libarchive' 'wxgtk2.9' 'sfml')
makedepends=()
optdepends=()
source=(http://berrybots.com/files/${pkgname}_src_${pkgver}.zip berrybots.patch)
md5sums=('d4c8a0007b88787afc16b36042dd1cd5'
         'a49b124f05f10a434c499956ff110ce3')

build() {  
  cd $pkgname
  patch -p1 -i $startdir/berrybots.patch 
  make linux
}

package() {
  install -d $pkgdir/opt/$pkgname
  install -d $pkgdir/usr/bin

  cp -ar $srcdir/$pkgname/apidoc $pkgdir/opt/$pkgname
  cp -ar $srcdir/$pkgname/bots $pkgdir/opt/$pkgname
  cp -ar $srcdir/$pkgname/resources $pkgdir/opt/$pkgname
  cp -ar $srcdir/$pkgname/runners $pkgdir/opt/$pkgname
  cp -ar $srcdir/$pkgname/stages $pkgdir/opt/$pkgname
  cp -a $srcdir/$pkgname/bbgui $pkgdir/opt/$pkgname
  cp -a $srcdir/$pkgname/LICENSE $pkgdir/opt/$pkgname
  cp -a $srcdir/$pkgname/README $pkgdir/opt/$pkgname
  
  echo "cd /opt/$pkgname && ./bbgui" > $pkgdir/usr/bin/bbgui
  chmod +x $pkgdir/usr/bin/bbgui
}

# vim sw=2:ts=2 et:
