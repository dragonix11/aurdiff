# Maintainer: 
# Contributor: Alexej Magura <agm2819*gmail*>
# Contributor: Laszlo Papp <djszapi2 at gmail com>

pkgname=vim-trac
pkgver=0.3.5
_scriptid=10047
pkgrel=3
pkgdesc="A vim client for the Trac wiki and ticketing system"
arch=('any')
url="http://www.vim.org/scripts/script.php?script_id=2147"
license=('custom')
depends=('vim')
groups=('vim-plugins')
install=vimdoc.install
source=("$pkgname.zip::http://www.vim.org/scripts/download_script.php?src_id=${_scriptid}"
        "license.txt")
md5sums=('9a0c0b97429eb624676c82965883260f'
         'efbd5986e691ce8c876fb86e8f5961ea')

package () {
    
    cd "$srcdir"

    install -d "$pkgdir"/usr/share{/licenses/$pkgname,/vim/vimfiles{/doc,/plugin}}

    for files in $(find $srcdir/doc -name '*.txt' -print)
    do
	install -m 644 -t "$pkgdir/usr/share/vim/vimfiles/doc" \
	    $files
    done

    for files in $(find $srcdir/plugin -name '*.vim' -print) $(find $srcdir/plugin -name '*.py' -print)
    do
	install -m 644 -t "$pkgdir/usr/share/vim/vimfiles/plugin" \
	    $files
    done

    install -m 644 -t "$pkgdir/usr/share/licenses/$pkgname" license.txt
	

}

